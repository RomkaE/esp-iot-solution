
if(NOT CONFIG_UGFX_GUI_ENABLE)
    set(srcs "")
    set(inc_dirs "")
    message(STATUS "Building empty ugfx component due to configuration")
else()
    set(srcs "mk.c"
                "gos_freertos_priv.c")

    set(inc_dirs "."
                "include"
                "ugfx"
                "ugfx/src"
                "ugfx/src/gadc"
                "ugfx/src/gaudio"
                "ugfx/src/gdisp"
                "ugfx/src/gdriver"
                "ugfx/src/gevent"
                "ugfx/src/gfile"
                "ugfx/src/ginput"
                "ugfx/src/gmisc"
                "ugfx/src/gos"
                "ugfx/src/gqueue"
                "ugfx/src/gtimer"
                "ugfx/src/gtrans"
                "ugfx/src/gwin")



    # if(CONFIG_UGFX_USE_CUSTOM_DRIVER)    
    #     set(COMPONENT_REQUIRES $(call dequote,$(CONFIG_UGFX_CUSTOM_DRIVER_COMPONENT_NAME)))
    # else()
    #     set(COMPONENT_REQUIRES gdrivers)
    # endif()

    set(priv_incdirs ${COMPONENT_PRIV_INCLUDEDIRS} ${CMAKE_SOURCE_DIR}/${CONFIG_UGFX_PROJ_RESOURCE_PATH})

endif()


idf_component_register(SRCS "${srcs}"
                    INCLUDE_DIRS "${inc_dirs}"
                    PRIV_INCLUDE_DIRS "${priv_incdirs}"
                    REQUIRES gdrivers param)

target_compile_options(${COMPONENT_LIB} PRIVATE -Wno-error=duplicate-decl-specifier -Wno-error=misleading-indentation)